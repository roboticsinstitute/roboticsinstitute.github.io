<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encoders & Calibration | The Robotics Institute</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: #faf9f6;
            color: #292929;
            line-height: 1.6;
        }

        .nav-bar {
            padding: 1rem 2rem;
            background-color: #ffffff;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-sizing: border-box;
            border-bottom: 1px solid #e6e6e6;
        }

        .nav-bar a {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            color: #292929;
            text-decoration: none;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .article-container {
            max-width: 800px;
            margin: 80px auto 0;
            padding: 2rem;
            background-color: #ffffff;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .article-header {
            margin-bottom: 3rem;
        }

        .article-title {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            line-height: 1.3;
            color: #292929;
        }

        .article-meta {
            color: #757575;
            font-size: 0.9rem;
            margin-bottom: 2rem;
        }

        .article-content {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #292929;
        }

        .article-content p {
            margin-bottom: 1.5rem;
        }

        .media-container {
            margin-top: 2rem;
            text-align: center;
        }

        .media-container img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
        }

        .caption {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #757575;
        }

        .extended-caption {
            font-size: 0.95rem;
            color: #757575;
            text-align: justify;
            margin: 0.5rem auto 2rem;
            line-height: 1.6;
            max-width: 90%;
            padding: 0 2rem;
            display: block;
        }

        /* Tooltip styles */
        .tooltip {
            position: relative;
            display: inline-block;
            color: #2b6cb0;
            cursor: help;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 300px;
            background-color: #f8f9fa;
            color: #292929;
            text-align: left;
            padding: 1rem;
            border-radius: 6px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #f8f9fa transparent transparent transparent;
        }

    </style>
</head>
<body>
    <nav class="nav-bar">
        <a href="../index.html">‚Üê Back to Home</a>
    </nav>

    <article class="article-container">
        <header class="article-header">
            <h1 class="article-title">Encoders & Calibration</h1>
            <div class="article-meta">
                Written by Nathan Daniel ‚Ä¢ Published April 2025
            </div>
        </header>

        <div class="article-content">
            

            <h2>Calibration (making yourself at home)</h2>

            <p>
                Imagine waking up in a pitch black room with no concept of where you are. You can freely move your arms or legs, but don't know which way you're facing, how far you've moved, or where to go next. Instead you're stuck in place questioning which life choices ended you up in this situation.
            </p>

            <p>
                That's exactly how a robot feels when it turns on (minus the existential crisis).
            </p>

            <div class="media-container">
                <img src="../imgs/lesson_5_confusion.jpg" alt="" style="max-width: 50%; border-radius: 4px;">
            </div>


            <p>
                If you don't know where you are to begin with, it's hard to know where you're going. Before a robot can start moving around, it needs a reference point. <b>Calibration </b> is a process that allows the robot to know where it is in the world, usually by setting a known position as the origin, or "home". It's kind of like setting your GPS before heading out on a road trip. 
            </p>

            <!-- <p>
                Different robots use different calibration methods depending on their hardware and precision needs. Some robots use limit switches, moving until they physically hit a switch that tells them "this is home." Others use markers like magnetic strips or reflective tags that sensors can detect. Some robots are manually positioned by humans who then tell the software "this is zero" (common in robotic surgery). And higher-end robots might run self-calibration scripts that use encoder feedback and motor resistance to find their home position automatically.
            </p> -->

            <div class="media-container">
                <img src="../imgs/lesson_5_3d_printer_calibrating.gif" alt="3D printer calibration" style="max-width: 100%; border-radius: 4px;">
                <!-- <p class="caption">A 3D printer performing part of its calibration routine. Notice how the extruder moves across the print bed horizontally to different points, and then wobbles up and down above the print bed? What's happening there is that a sensor in the extruder tip is looking for a magnetic field (the print bed is actually a large magnet) that tells the extruder how close it is to the print surface.</p> -->
            </div>

            <p>
            
                Check out the gif above of a 3D printer performing part of its calibration routine. Notice how the extruder moves across the print bed horizontally to different points, and then sort of wobbles up and down above the print bed? What's happening is that a sensor in the extruder tip is searching for a magnetic field (the print bed is actually a large magnet) that tells the extruder how close it is to the print surface. The extruder will perform this up and down motion at different points across the print bed to make sure everything is level and ready to print.
            </p>

            <h3>Encoders!</h3>

            <p>
                Motors make things robots move, but without any sensors you'll have no idea how or where things are moving. <b>Encoders</b> are sensors that measure motion (usually degrees of rotation) and convert it into data that the robot can use to calculate fun things like distance, speed, and diretionality.
            </p>

            <!-- <p>
                Some encoders are super simple and just track basic movement. Others are more advanced and can give you the exact position of a motor shaft, even after a full power-down. In either case, encoders are a critical part of the think-sense-act loop as they help the robot compare what it wanted to do with what actually happened, and adjust accordingly.
            </p> -->

            <p>
                Encoders can work in two ways: incrementally, or absolutely. Incremental encoders will tell you how much something has moved, but only from where it started. Absolute encoders tell you exactly where you are at any given time. 
            </p>

            <div class="media-container">
                <img src="../imgs/lesson_5_incremental_vs_absolute.webp" alt="" style="max-width: 80%; border-radius: 4px;">
            </div>

            <p>

                 Check out the image above.The incremental encoder on the left has tiny, evenly spaced tick marks around the ring. If you started at "12 o'clock" facing north and started rotating clockwise, you can count the number of ticks you've passed to see how many degrees you've moved, or even calculate the speed you're traveling based on how many ticks per second you pass by. However, since each tick is evenly spaced, the encoder doesn't actually know where you started, so if you turned it off at 3:00, you'd have to perform a calibration routine to reset your "home" position
        . 
            </p>

            <p>
                Conversely, the absolute encoder on the right has a unique pattern of tick marks that are not evenly spaced. If we also started at "12 o'clock" facing north and started rotating clockwise, the unique pattern of tick marks would tell us exactly where we were almost like a barcode for angles.
            </p>

            
            <p>
                You may be wondering why we would ever use an incremental encoder if absolute encoders seem to be the better choice. Incremental encoders are usually cheaper, smaller, and simpler to use, and for systems that always start from a known position (like a 3D printer) they're a great choice. If you can design your system to always start from a known position, you can get a very fine resolution (thousands of ticks per revolution) from an incremental encoder at a much lower cost than an absolute one. However, in more complex systems you may want to use an absolute encoder to avoid the need for calibration, or as a backup to make sure you're always in the right place.
            </p>

            <!-- <h3>Incrementally </h3>

            <p>
                Incremental encoders tell you how much something has moved ‚Äî not where it started. They work by generating pulses as the motor shaft spins. If it stops moving, it stops generating pulses. Count the pulses, and you can calculate distance, speed, and direction.
            </p>

            <p>
                But they don't store position, so if the power cuts out or the robot restarts, you lose your place. You'll need to run a calibration sequence to reset the system.
            </p>

            <p>
                Think of it like a stopwatch ‚Äî great for measuring change, but it can't tell you what time it currently is.
            </p>

            <p>
                So why use them?
            </p>

            <ul>
                <li>They're cheaper and typically simpler</li>
                <li>They often offer higher resolution (more pulses per rotation)</li>
                <li>Perfect for systems that always start from a known position (like a 3D printer or CNC machine that homes on startup)</li>
            </ul>

            <h3>Absolutely</h3>

            <p>
                Absolute encoders tell you exactly where the motor is pointing or located, even after powering on. Every position gives off a unique signal, so the robot would know its orientation without needing to re-calibrate.
            </p>

            <p>
                It's more like a compass ‚Äî even if you turn it off and back on, it still knows you're facing northeast.
            </p>

            <p>
                Great for:
            </p>

            <ul>
                <li>Robots that need to remember their position between restarts</li>
                <li>Systems that don't have homing routines or mechanical stops</li>
                <li>High-precision tasks where reliability is critical</li>
            </ul>

            <p>
                So if absolute encoders tell you exactly where you are on startup, why don't we just use them everytime? Wouldn't that remove the need for calibration?
            </p>

            <p>
                Even with absolute encoders, calibration might be used to line up physical parts (like making sure a gripper is closed when the encoder says "0¬∞"). Robots with complex linkages or long arms may need regular calibration to keep tiny mechanical errors from building up over time. It's usually a good idea to use a combination of incremental and absolute encoders in complex robots.
            </p> -->

            <p>
                Now let's get into how different types of incremental and absolute encoders actually measure motion!
            </p>

            <h2>Optical Encoders üëÄ </h2>

            <p>
                Optical encoders shoot a beam of light through a spinning disk with tiny holes or slits around the edge (like the one earlier). As the disk rotates, the light shines through the holes and hits a sensor on the other side.
            </p>

            <p>
                Every time a hole passes by, the sensor detects a flash of light (kind of like blinking). By counting these flashes, the encoder can calculate how many degrees the disk has rotated.  The more holes on the disk, the more detailed the measurement ‚Äî which means more precision!
            </p>

            <div class="media-container" style="display: flex; justify-content: space-between; margin: 2rem 0;">
                <div style="flex: 1; margin-right: 1rem;">
                    <img src="../imgs/lesson_5_incremental_optical.gif" alt="Incremental Optical Encoder" style="max-width: 100%; height: auto;">
                    <h4 style="text-align: center; margin-top: 1rem;">Incremental Optical Encoder</h4>
                </div>
                <div style="flex: 1; margin-left: 1rem;">
                    <img src="../imgs/lesson_5_absolute_optical.gif" alt="Absolute Optical Encoder" style="max-width: 100%; height: auto;">
                    <h4 style="text-align: center; margin-top: 1rem;">Absolute Optical Encoder</h4>
                </div>
            </div>

            <p>
                The slits around the disk are evenly spaced around the incrental optical encoder disk. That means the encoder can count how many slits have passed, but it has no idea where it started when the robot powers on since all the slits are the same (remember you have to set a "home" position first and start counting from there). Absolute optical encoders use a more complex disk pattern where the slits could vary in position, width or might just have a unique pattern. In the gif above, the absolute disk on the right uses 3 rings of slits to create a unique binary pattern - when it can detect a slit, it sets a bit to 1, and when it can't detect a slit, it sets the bit to 0. This 3-bit pattern can tell you where the disk is at any given time just by looking at which slits are visible.
            </p>

            

            <div style="display: flex; justify-content: space-between; margin: 2rem 0;">
                <div style="flex: 1; margin-right: 1rem;">
                    <h3>Pros</h3>
                    <ul>
                        <li>Very high resolution</li>
                        <li>Accurate and consistent in clean conditions</li>
                        <li>Commonly available as both incremental and absolute</li>
                    </ul>
                </div>
                <div style="flex: 1; margin-left: 1rem;">
                    <h3>Cons</h3>
                    <ul>
                        <li>Sensitive to dust, dirt, and vibration ‚Äî not ideal for messy environments</li>
                        <li>Can require careful alignment or shielding</li>
                        <li>Usually a bit bulkier than other types</li>
                    </ul>
                </div>
            </div>

            <h3>Where you'll see them</h3>
            <p>
                3D printers, CNC machines, camera gimbals, inspection arms. These are the most common types of encoders you'll see in the wild!  
            </p>

            

            <h2>Magnetic Encoders üß≤</h2>

            <p>
                Magnetic encoders use a small spinning magnet and a <span class="tooltip">nearby sensor<span class="tooltiptext">These sensors are usually Hall-effect sensors, which are devices that produce a voltage proportional to a magnetic field. A nifty trick, but if you're designing these things you'll be throwing up gang signs trying to figure out which direction the magnetic field moves!</span></span> to track motion. As the magnet rotates, the magnetic field around it changes, which allows the sensor to detect how far or fast something has turned.  
            </p>

            <!-- <p>
                Unlike optical encoders, there's no light, no tiny slits, and no worries about dust getting in the way ‚Äî just a magnet and a sensor working together to read motion.
            </p> -->
            

            <div class="media-container" style="text-align: center; margin: 2rem 0;">
                <img src="../imgs/lesson_5_magnetic_encoder.png" alt="" style="max-width: 100%; max-height: 400px;">
                <p class="caption">Unfortunately, I can't find any gifs of magnetic encoders in action. And even if I could we'd need to be wizards (or electrical engineers) to visualize how fluctuating magnetic field works.</p>
            </div>

            <p>
                But in an incremental magnetic encoder, the sensor detects regular, repeating changes in the magnetic field as the magnet spins. These changes are used to generate pulses, and the encoder counts them to track changes in rotation. In an absolute magnetic encoder, the magnet is specially shaped (often with multiple poles or a unique magnetic pattern), and the sensor can detect its exact orientation right away. 
            </p>

            <div style="display: flex; justify-content: space-between; margin: 2rem 0;">
                <div style="flex: 1; margin-right: 1rem;">
                    <h3>Pros</h3>
                    <ul>
                        <li>Very durable and no exposed parts</li>
                        <li>Compact and easy to seal against dust, dirt, and moisture </li>
                        <li>Great for harsh or outdoor movements</li>
                    </ul>
                </div>
                <div style="flex: 1; margin-left: 1rem;">
                    <h3>Cons</h3>
                    <ul>
                        <li>Cheaper versions have an average lower resolution than an optical competitor</li>
                        <li>Can be affected by external magnetic fields (not a super common issue, but electric currents do generate magnetic fields! That might need to be considered in a complex systems with a bunch of electronics)</li>
                    </ul>
                </div>
            </div>

            <h3>Where you'll see them</h3>
            <p>
                Robot joints, outdoor or industrial robots that operate in messy environments       
            </p>
            
            <h2>Capacitive Encoders ‚ö° <i>(not super common, but growing) </i></h2>

            <p>
                Capacitive encoders track motion by measuring changes in capacitance, or how well two surfaces can hold an electric charge. Inside the encoder, there's a patterned disk that spins near a fixed surface. As the disk turns, the patterns on it cause tiny changes in the electric field between the two layers. 
            </p>

            <div class="media-container" style="text-align: center; margin: 2rem 0;">
                <img src="../imgs/lesson_5_capacitive_encoder.png" alt="" style="max-width: 100%; max-height: 400px;">
                <p class="caption"></p>
            </div>

            <p>
                You're probably starting to see the <i>pattern</i> here, but in an incremental capacitive encoder, the spinning disk has a repeating pattern. As the pattern moves, the encoder measures regular changes in capacitance and counts them to track how far something has turned. With absolute capacitive encoders, the pattern on the disk is more complex and varies around the full rotation. That unique pattern allows the encoder to instantly detect its exact position at startup, based on the specific capacitance reading at that point.
            </p>
            

            

            <div style="display: flex; justify-content: space-between; margin: 2rem 0;">
                <div style="flex: 1; margin-right: 1rem;">
                    <h3>Pros</h3>
                    <ul>
                        <li>Very compact and lightweight</li>
                        <li>Resistant to electrical noise and interference (good for noisy circuits)</li>
                        <li>Sealed and protected against dust or moisture</li>
                    </ul>
                </div>
                <div style="flex: 1; margin-left: 1rem;">
                    <h3>Cons</h3>
                    <ul>
                        <li>Not as common or widely supported in off-the-shelf robotics gear</li>
                        <li>Lower resolution in basic models compared to optical encoders</li>
                    </ul>
                </div>
            </div>

            <h3>Where you'll see them</h3>
            <p>
                Lightweight systems where space and power are limited, portable or battery-powered robots, newer commercial servo motors with built-in capacitive feedback        
            </p>

            <h2>Why does this stuff actually matter?</h2>

            <!-- <p>
                At this point, you've probably gotten the idea: calibration isn't just a setup step  it's the foundation for everything a robot does after that.
            </p> -->

            <p>
                Without calibration or encoders, even the most advanced sensors and encoders are basically guessing where it is. A robot might think it's moving 30 degrees, but if it started from the wrong place, that movement could put it in the wrong position ‚Äî or worse, into something it shouldn't be touching.
            </p>

            <h3 style="text-align: center;">üîê Calibration = Safety</h3>

            <p>
                In robots (and life), bad data = bad decisions. If a robot arm is even a few millimeters off, it could crash into a wall, miss its target, and damage itself, the workspace, or someone nearby. Calibration ensures the robot always has an accurate understanding of where it is so it can move safely and predictably.
            </p>

            <h3 style="text-align: center;">üîÅ Calibration = Repeatability</h3>

            <p>
                One of the biggest goals in robotics is to accomplish the same task over and over with consistent results. Calibration gives the robot a reliable starting point every time it boots up, which makes repeatability possible. This is especially important in things like manufacturing, 3D printing, or lab automation, where even small inconsistencies can lead to big problems.
            </p>

            <h3 style="text-align: center;">üß∞ Calibration = Easier Maintenance</h3>

            <p>
                Regular calibration can also help spot problems early. If a robot suddenly can't reach its home position, or it hits a limit switch too early, it might mean something's worn out or misaligned. In that way, encoders can be used like a built-in Dr's appointment for the robot's mechanics.
            </p>
            
            
            <p style="margin-top: 4rem;">
                In short, calibration & encoders give your robot a reference, a routine, and a reality check. No matter what you're doing in life, knowing where you are is usually a good place to start!
            </p>
        </div>
    </article>
</body>
</html> 