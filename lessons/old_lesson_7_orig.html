<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PID Control | The Robotics Institute</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: #faf9f6;
            color: #292929;
            line-height: 1.6;
        }

        .nav-bar {
            padding: 1rem 2rem;
            background-color: #ffffff;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-sizing: border-box;
            border-bottom: 1px solid #e6e6e6;
        }

        .nav-bar a {
            color: #292929;
            text-decoration: none;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .article-container {
            max-width: 800px;
            margin: 80px auto 0;
            padding: 2rem;
            background-color: #ffffff;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .article-header { margin-bottom: 3rem; }
        .article-title { font-size: 2.5rem; font-weight: 600; margin-bottom: 1rem; line-height: 1.3; color: #292929; }
        .article-meta { color: #757575; font-size: 0.9rem; margin-bottom: 2rem; }

        .article-content { font-size: 1.1rem; line-height: 1.8; color: #292929; }
        .article-content p { margin-bottom: 3rem; }
        .article-content h3 { font-size: 1.4rem; margin: 2rem 0 1rem; font-weight: 500; }

        .media-container { margin: 2rem 0; width: 100%; }
        .media-container img, .media-container video { width: 100%; border-radius: 8px; margin: 1rem 0; }
        .caption { font-size: 0.9rem; color: #a0a0a0; text-align: center; margin-top: 0.5rem; }

        pre { background-color: #151A1F; padding: 1.5rem; border-radius: 8px; overflow-x: auto; margin: 1.5rem 0; }
        code { font-family: 'Menlo', 'Monaco', 'Courier New', monospace; font-size: 0.9rem; }

        .tooltip { position: relative; display: inline-block; color: #2b6cb0; cursor: help; }
        .tooltip .tooltiptext {
            visibility: hidden; width: 300px; background-color: #f8f9fa; color: #292929; text-align: left; padding: 1rem; border-radius: 6px;
            position: absolute; z-index: 1; bottom: 125%; left: 50%; margin-left: -150px; opacity: 0; transition: opacity 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1); font-size: 0.9rem; line-height: 1.4;
        }
        .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }
        .tooltip .tooltiptext::after {
            content: ""; position: absolute; top: 100%; left: 50%; margin-left: -5px; border-width: 5px; border-style: solid;
            border-color: #f8f9fa transparent transparent transparent;
        }

        @media (max-width: 768px) {
            .article-container { padding: 1.5rem; }
            .article-title { font-size: 2rem; }
            .article-content { font-size: 1rem; }
        }
    </style>
</head>

<body>
    <nav class="nav-bar">
        <a href="../index.html">← Back to Home</a>
    </nav>

    <article class="article-container">
        <header class="article-header">
            <h1 class="article-title">PID Control</h1>
            <div class="article-meta">
                Written by Nathan Daniel • Last updated Jan 2025
            </div>
        </header>

        <div class="article-content">
            <p>
                Even if we manufacture robots on an assembly line, no two are exactly the same. Tiny differences in
                friction, weight, or alignment mean they'll all behave a bit differently; and in some environments, even
                the slightest robot error can have fatal consequences.
            </p>

            <div class="media-container" style="text-align: center;">
                <img src="../imgs/lesson_7_robot_guitar.jpg" alt="robot playing guitar" style="width: 60%; max-width: 300px;">
            </div>
            <p>
                Just like how you'd tune a guitar before playing it, you need to "tune" each robot before it starts
                moving if you want to hit the right notes. In robotics, one of the most common ways we'd do that is with
                something called a PID controller.
            </p>

            <p>
                A <b>PID controller</b> is a feedback system that helps a robot stay on track when it's trying to move
                in any form - like rotating a joint, holding an arm steady, or following a line on the floor. PID stands
                for Proportional-Integral-Derivative - and if that phrase triggers traumatic memories from calculus,
                don't worry, it's a lot simpler than it sounds! Essentially, anytime you try to move to a certain
                position, a PID controller is constantly using these 3 metrics to get there in a more efficient way:
            </p>

            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin: 3rem 0;">
                <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; border: 4px solid #007bff; text-align: center;">
                    <h3 style="margin: 0 0 1rem 0; color: #007bff; font-size: 2rem;">P</h3>
                    <p style="margin: 0; font-size: 0.9rem;"><b>how wrong you are right now</b></p>
                </div>
                <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; border: 4px solid #28a745; text-align: center;">
                    <h3 style="margin: 0 0 1rem 0; color: #28a745; font-size: 2rem;">I</h3>
                    <p style="margin: 0; font-size: 0.9rem;"><b>how long you've been wrong</b></p>
                </div>
                <div style="background: #f8f9fa; padding: 1.2rem; border-radius: 8px; border: 4px solid #dc3545; text-align: center;">
                    <h3 style="margin: 0 0 1rem 0; color: #dc3545; font-size: 2rem;">D</h3>
                    <p style="margin: 0; font-size: 0.9rem;"><b>if you're about to be more wrong</b></p>
                </div>
            </div>

            <h2>Let's Chill Out</h2>
            <p>
                It's a lot easier to visualize control systems with an everyday example. Take a crappy A/C unit you
                snatched off Facebook Marketplace for $40. It does its best to blast cold air into your room until the
                room hits the temperature you set, but it's not great. So let's design a PID controller to keep your
                room cool without the $6,000 electric bill.
            </p>
            <div class="media-container" style="text-align: center;">
                <img src="../imgs/lesson_7_ac_unit.jpg" alt="ac unit" style="width: 60%; max-width: 900px;">
            </div>
            <p>
                From that simple example, we can already define some terms if this was a real control system. The
                <b>plant</b> (what we're controlling) is your room. The <b>setpoint</b> is the temperature you want
                (say, 60°F). The <b>process variable</b> is the actual room temperature right now (around 80°F). The
                <b>control output</b> is what the A/C can do: blow cold air to bring the temperature down.
            </p>

            <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin: 2rem 0;">
                <ul style="margin: 0; padding-left: 1.5rem;">
                    <li style="margin-bottom: 1rem;"><strong>Your setpoint, r(t)</strong> = desired room temperature (60°F)</li>
                    <li style="margin-bottom: 1rem;"><strong>Process variable, y(t)</strong> = actual room temperature (80°F)</li>
                    <li style="margin-bottom: 1rem;"><strong>Error, e(t) = y(t) − r(t)</strong> = how far off you are</li>
                    <li style="margin-bottom: 1rem;"><strong>Control output, u(t)</strong> = A/C effort (0–1)</li>
                    <li style="margin-bottom: 1rem;"><strong>Plant, G(s)</strong> = room thermal response</li>
                    <li style="margin-bottom: 1rem;"><strong>Disturbance, d(t)</strong> = sun, people, appliances, etc.</li>
                    <li style="margin-bottom: 1rem;"><strong>K<sub>p</sub></strong>, <strong>K<sub>i</sub></strong>, <strong>K<sub>d</sub></strong></li>
                </ul>
            </div>

            <p>Now, everything comes together in a neat equation like so:</p>
            <div style="text-align: center; margin: 2rem 0;">
                <div style="font-family: 'Times New Roman', serif; font-size: 1.3rem; line-height: 1.8; color: #202124; font-style: italic;">
                    u(t) = K<sub>p</sub>e(t) + K<sub>i</sub>∫<sub>0</sub><sup>t</sup>e(τ)dτ + K<sub>d</sub>de(t)/dt
                </div>
            </div>

            <div class="media-container" style="text-align: center;">
                <img src="../imgs/lesson_7_block_diagram.png" alt="PID control block diagram" style="width: 100%; max-width: 700px;">
            </div>
        </div>
    </article>

</body>
</html>
